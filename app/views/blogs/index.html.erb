<main>
<div class="containar">
 <div class="row">
  <div class="col-lg-4"><%#= image_tag "ocean.jpg", width: "100%", height: "180" %>
   <div class="card-img-overlay">
    <p class="text-white">
      <% if @blog.errors.any? %>
       <%= @blog.errors.count %>件のエラーが発生しました
       <% @blog.errors.full_messages.each do |message| %>
       <%= message %>
       <% end %>
      <% end %></p>
   <h1>New post</h1>
   <%= form_with model: @blog, local:true do |f| %>
   <h4>Title</h4>
   <%= f.text_field :title %>
   <h4>Category</h4>
   <%= f.text_field :category %>
   <h4>Contents</h4>
   <%= f.text_area :body %>
   <h4>Picture</h4>
   <%= f.attachment_field :image %>

   <%= f.submit 'Post'%>
   <% end %>
   </div>
  </div>

  <div class="col-lg-8, mt-5">
   <table>
    <thead>
     <tr>
      <th>Title</th>
      <th>Category</th>
      <th>Picture</th>
      <th>Contents</th>
      <th>Date</th>
      <th calspan="2"></th>
     </tr>
    </thead>
    <tbody>
    <% @blogs.each do |blog| %>
     <tr>
      <th><%= blog.title %></th>
      <th><%= blog.category %></th>
      <th><%= attachment_image_tag blog, :image, :fill, 50, 50, format: 'jpeg' %></th>
      <th><%= blog.body %></th>
      <th><%= blog.created_at.to_s(:datetime_jp) %></th>
      <th><%= link_to "詳細", blog_path(blog) %></th>
      <th><%= link_to "削除", blog_path(blog), method: :delete %></th>
     </tr>
    </tbody>
    <% end %>
   </table>
  </div>
 </div>
</div>
</main>